import { db } from '../db/index.js';
import { terms } from '../db/schema.js';
import { eq } from 'drizzle-orm';

const termsData = [
    {
        code: 'service',
        title: '서비스 이용약관',
        content: `# 서비스 이용약관

## 제1조 (목적)
이 약관은 mimy(이하 "회사")가 제공하는 서비스의 이용조건 및 절차, 회사와 이용자의 권리, 의무, 책임사항과 기타 필요한 사항을 규정함을 목적으로 합니다.

## 제2조 (정의)
1. "서비스"란 회사가 제공하는 맛집 추천, 리뷰 작성, 소셜 기능 등 일체의 서비스를 의미합니다.
2. "이용자"란 본 약관에 따라 회사가 제공하는 서비스를 이용하는 회원 및 비회원을 말합니다.
3. "회원"이란 회사와 서비스 이용계약을 체결하고 이용자 아이디를 부여받은 자를 말합니다.

## 제3조 (약관의 효력 및 변경)
1. 본 약관은 서비스를 이용하고자 하는 모든 이용자에게 적용됩니다.
2. 회사는 필요한 경우 관련 법령을 위배하지 않는 범위 내에서 본 약관을 변경할 수 있습니다.
3. 변경된 약관은 서비스 내 공지사항을 통해 공지하며, 공지 후 7일이 경과한 시점부터 효력이 발생합니다.

## 제4조 (서비스의 제공)
1. 회사는 다음과 같은 서비스를 제공합니다:
   - 개인화된 맛집 추천 서비스
   - 맛집 리뷰 작성 및 공유 서비스
   - 미식 성향 분석 서비스
   - 소셜 네트워킹 서비스 (팔로우, 좋아요, 댓글 등)
   - 기타 회사가 정하는 서비스

## 제5조 (회원가입)
1. 이용자는 회사가 정한 가입 양식에 따라 회원정보를 기입한 후 본 약관에 동의한다는 의사표시를 함으로써 회원가입을 신청합니다.
2. 회사는 제1항과 같이 회원으로 가입할 것을 신청한 이용자 중 다음 각 호에 해당하지 않는 한 회원으로 등록합니다.

## 제6조 (회원 탈퇴 및 자격 상실)
1. 회원은 언제든지 회사에 탈퇴를 요청할 수 있으며, 회사는 즉시 회원탈퇴를 처리합니다.
2. 회원이 다음 각 호의 사유에 해당하는 경우, 회사는 회원자격을 제한 또는 정지시킬 수 있습니다.

## 제7조 (이용자의 의무)
1. 이용자는 다음 행위를 하여서는 안 됩니다:
   - 신청 또는 변경 시 허위내용의 등록
   - 타인의 정보 도용
   - 회사가 게시한 정보의 변경
   - 회사가 정한 정보 이외의 정보 등의 송신 또는 게시
   - 회사와 기타 제3자의 저작권 등 지적재산권에 대한 침해
   - 회사 및 기타 제3자의 명예를 손상시키거나 업무를 방해하는 행위

## 제8조 (저작권의 귀속)
1. 서비스에 게시된 콘텐츠의 저작권은 해당 콘텐츠의 작성자에게 귀속됩니다.
2. 회원이 서비스 내에 게시한 콘텐츠의 저작권은 해당 회원에게 귀속됩니다.

## 제9조 (면책조항)
1. 회사는 천재지변 또는 이에 준하는 불가항력으로 인하여 서비스를 제공할 수 없는 경우에는 서비스 제공에 관한 책임이 면제됩니다.
2. 회사는 이용자의 귀책사유로 인한 서비스 이용의 장애에 대하여는 책임을 지지 않습니다.

## 제10조 (분쟁해결)
1. 회사와 이용자 간에 발생한 전자상거래 분쟁에 관한 소송은 민사소송법상의 관할법원에 제기합니다.

**시행일: 2026년 2월 10일**`,
        summary: '서비스 이용에 관한 기본 약관입니다.',
        is_required: true,
        version: '1.0',
        country_code: 'ALL',
        effective_date: '2026-02-10',
    },
    {
        code: 'privacy',
        title: '개인정보 처리방침',
        content: `# 개인정보 처리방침

mimy(이하 "회사")는 이용자의 개인정보를 중요시하며, 「개인정보 보호법」을 준수하고 있습니다.

## 1. 개인정보의 수집 및 이용 목적

회사는 다음의 목적을 위하여 개인정보를 처리합니다:

### 1.1 회원 가입 및 관리
- 회원제 서비스 이용에 따른 본인확인
- 회원자격 유지·관리
- 서비스 부정이용 방지

### 1.2 서비스 제공
- 개인화된 맛집 추천
- 콘텐츠 제공
- 맞춤 서비스 제공

### 1.3 마케팅 및 광고 활용 (선택 동의 시)
- 이벤트 및 광고성 정보 제공
- 서비스 이용 통계 분석

## 2. 수집하는 개인정보 항목

### 2.1 필수 수집 항목
- 이름, 휴대폰 번호, 생년월일, 이메일 주소
- 소셜 로그인 시: 소셜 계정 식별자

### 2.2 선택 수집 항목
- 프로필 사진, 닉네임, 자기소개
- 위치 정보 (맛집 추천 서비스 이용 시)

### 2.3 서비스 이용 과정에서 자동 수집되는 항목
- 서비스 이용 기록, 접속 로그, 쿠키
- 기기 정보 (기기 식별자, OS 종류 및 버전)

## 3. 개인정보의 보유 및 이용 기간

회사는 법령에 따른 개인정보 보유·이용 기간 또는 정보주체로부터 개인정보를 수집 시에 동의받은 개인정보 보유·이용 기간 내에서 개인정보를 처리·보유합니다.

- **회원 정보**: 회원 탈퇴 시까지
- **서비스 이용 기록**: 3년

## 4. 개인정보의 제3자 제공

회사는 원칙적으로 이용자의 개인정보를 외부에 제공하지 않습니다. 다만, 아래의 경우에는 예외로 합니다:
- 이용자가 사전에 동의한 경우
- 법령의 규정에 의거하거나, 수사 목적으로 법령에 정해진 절차와 방법에 따라 수사기관의 요구가 있는 경우

## 5. 개인정보의 파기

회사는 개인정보 보유 기간의 경과, 처리목적 달성 등 개인정보가 불필요하게 되었을 때에는 지체없이 해당 개인정보를 파기합니다.

## 6. 이용자의 권리

이용자는 언제든지 다음의 권리를 행사할 수 있습니다:
- 개인정보 열람 요구
- 오류 등이 있을 경우 정정 요구
- 삭제 요구
- 처리정지 요구

## 7. 개인정보 보호책임자

- **담당자**: 개인정보 보호팀
- **이메일**: privacy@mimy.app

## 8. 개인정보 처리방침 변경

이 개인정보 처리방침은 시행일로부터 적용되며, 법령 및 방침에 따른 변경내용의 추가, 삭제 및 정정이 있는 경우에는 변경사항의 시행 7일 전부터 공지사항을 통하여 고지할 것입니다.

**시행일: 2026년 2월 10일**`,
        summary: '개인정보 수집 및 이용에 관한 방침입니다.',
        is_required: true,
        version: '1.0',
        country_code: 'ALL',
        effective_date: '2026-02-10',
    },
    {
        code: 'marketing',
        title: '마케팅 정보 수신 동의',
        content: `# 마케팅 정보 수신 동의

## 1. 목적
mimy에서 제공하는 이벤트, 혜택, 신규 서비스 등의 정보를 받아보실 수 있습니다.

## 2. 수신 정보 내용
- 신규 서비스 및 기능 안내
- 이벤트 및 프로모션 정보
- 맞춤형 맛집 추천 알림
- 서비스 관련 유용한 팁

## 3. 수신 방법
- 푸시 알림
- 이메일
- SMS/LMS

## 4. 수신 동의 철회
마케팅 정보 수신에 동의하신 후에도 언제든지 설정에서 수신 동의를 철회하실 수 있습니다.

**본 동의는 선택 사항이며, 동의하지 않으셔도 서비스 이용에 제한이 없습니다.**

**시행일: 2026년 2월 10일**`,
        summary: '이벤트 및 혜택 알림 수신에 관한 동의입니다.',
        is_required: false,
        version: '1.0',
        country_code: 'ALL',
        effective_date: '2026-02-10',
    },
    {
        code: 'location',
        title: '위치기반서비스 이용약관',
        content: `# 위치기반서비스 이용약관

mimy(이하 "회사")는 「위치정보의 보호 및 이용 등에 관한 법률」(이하 "위치정보법")에 따라 위치기반서비스를 제공함에 있어 이용자의 권리를 보호하기 위하여 다음과 같이 약관을 정합니다.

## 제1조 (목적)

본 약관은 회사가 제공하는 위치기반서비스(이하 "서비스")에 관한 이용조건 및 절차, 회사와 이용자의 권리·의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.

## 제2조 (정의)

1. **"위치정보"**란 이동성이 있는 물건 또는 개인이 특정한 시간에 존재하거나 존재하였던 장소에 관한 정보로서, 「위치정보법」 제2조 제1호에 해당하는 정보를 말합니다.
2. **"개인위치정보"**란 특정 개인의 위치정보(위치정보만으로는 특정 개인의 위치를 알 수 없는 경우에도 다른 정보와 용이하게 결합하여 특정 개인의 위치를 알 수 있는 것을 포함)를 말합니다.
3. **"위치기반서비스"**란 위치정보를 이용한 서비스를 말합니다.
4. **"개인위치정보주체"**란 개인위치정보에 의하여 식별되는 자를 말합니다.

## 제3조 (약관의 효력 및 변경)

1. 본 약관은 서비스를 이용하고자 하는 모든 이용자에게 공지함으로써 효력이 발생합니다.
2. 회사는 위치정보법, 콘텐츠산업 진흥법, 전자상거래 등에서의 소비자보호에 관한 법률, 소비자기본법 등 관련 법령을 위배하지 않는 범위에서 본 약관을 변경할 수 있습니다.
3. 약관을 변경할 경우에는 적용일자 및 변경사유를 명시하여 그 적용일자 7일 전부터 서비스 내에 공지합니다.

## 제4조 (서비스의 내용)

회사는 위치정보를 이용하여 다음과 같은 서비스를 제공합니다:

| 서비스 명 | 서비스 내용 |
|-----------|-----------|
| 주변 맛집 탐색 | 이용자의 현재 위치를 기반으로 주변 맛집을 지도에 표시하고 거리순으로 정렬하여 제공 |
| 개인화 맛집 추천 | 이용자의 위치 정보와 미식 성향을 결합하여 맞춤형 맛집을 추천 |
| 동네 등록 | 이용자의 GPS 위치를 기반으로 현재 거주 동네를 자동 파악하여 등록 |
| 동네 리더보드 | 같은 동네 이용자들의 맛집 랭킹 리더보드 제공 |
| 맛집 거리 표시 | 이용자와 맛집 간의 거리를 계산하여 표시 |

## 제5조 (서비스 이용요금)

회사가 제공하는 위치기반서비스는 무료입니다. 단, 무선 서비스 이용 시 발생하는 데이터 통신료는 별도이며, 이용자가 가입한 이동통신사의 요금제에 따릅니다.

## 제6조 (개인위치정보의 이용 또는 제공)

1. 회사는 개인위치정보를 이용하여 서비스를 제공하고자 하는 경우에는 미리 이용약관에 명시한 후 개인위치정보주체의 동의를 얻어야 합니다.
2. 회사는 이용자의 개인위치정보를 이용자가 지정하는 제3자에게 제공하는 경우, 개인위치정보를 수집한 해당 통신 단말장치로 매회 이용자에게 제공받는 자, 제공일시 및 제공목적을 즉시 통보합니다.
3. 단, 다음 각 호에 해당하는 경우에는 이용자가 미리 특정하여 지정한 통신 단말장치 또는 전자우편주소 등으로 통보합니다.
   - 개인위치정보를 수집한 해당 통신 단말장치가 문자, 음성 또는 영상의 수신 기능을 갖추지 아니한 경우
   - 개인위치정보주체가 온라인 게시 등의 방법으로 통보할 것을 미리 요청한 경우

## 제7조 (개인위치정보의 보유 목적 및 보유 기간)

1. 회사는 위치기반서비스 제공을 위해 아래와 같이 개인위치정보를 보유합니다.

| 보유 정보 | 보유 목적 | 보유 기간 |
|-----------|-----------|-----------|
| 이용자의 현재 위치 좌표 | 주변 맛집 검색, 거리 계산, 맞춤 추천 | 서비스 이용 중 일시적 보유 (세션 종료 시 삭제) |
| 등록된 동네 정보 (행정구역명) | 동네 리더보드, 동네 기반 추천 | 회원 탈퇴 시 또는 동네 해제 시까지 |

2. 위 보유 기간이 경과한 경우, 회사는 지체없이 해당 개인위치정보를 파기합니다.

## 제8조 (개인위치정보주체의 권리)

1. 개인위치정보주체는 개인위치정보의 이용·제공에 대한 동의의 전부 또는 일부를 철회할 수 있습니다.
2. 개인위치정보주체는 언제든지 개인위치정보의 이용·제공의 일시적인 중지를 요구할 수 있습니다. 이 경우 회사는 요구를 거절하지 아니하며, 이를 위한 기술적 수단을 갖추고 있습니다.
3. 개인위치정보주체는 회사에 대하여 다음 자료의 열람 또는 고지를 요구할 수 있고, 당해 자료에 오류가 있는 경우에는 그 정정을 요구할 수 있습니다. 이 경우 회사는 정당한 사유 없이 요구를 거절하지 아니합니다.
   - 개인위치정보의 이용·제공사실 확인자료
   - 개인위치정보가 위치정보법 또는 다른 법률의 규정에 의하여 제3자에게 제공된 이유 및 내용
4. 권리행사는 앱 설정 메뉴 또는 고객센터를 통하여 할 수 있습니다.

## 제9조 (법정대리인의 권리)

1. 회사는 만 14세 미만 아동의 개인위치정보를 이용·제공하고자 하는 경우에는 그 법정대리인의 동의를 얻어야 합니다.
2. 법정대리인은 만 14세 미만 아동의 개인위치정보를 이용·제공에 동의하는 경우 동의 철회권, 일시 중지권 및 열람·고지 요구권을 행사할 수 있습니다.

## 제10조 (위치정보 이용·제공사실 확인자료의 보유)

1. 회사는 위치정보의 이용·제공사실 확인자료를 위치정보법 제16조 제2항에 의거하여 6개월간 보관합니다.
2. 보유 항목: 개인위치정보주체에 대한 위치정보 이용·제공사실, 이용·제공일시, 이용·제공목적

## 제11조 (서비스의 변경 및 중지)

1. 회사는 위치기반서비스사업자의 정책변경 등과 같은 외부적 사유 또는 회사의 서비스 운영정책 변경, 관련 법령의 개정 등으로 위치기반서비스를 유지할 수 없는 경우 위치기반서비스의 전부 또는 일부를 변경·중지할 수 있습니다.
2. 서비스를 변경하거나 중지하는 경우 그 사유 및 일자를 서비스 내에 공지합니다.

## 제12조 (손해배상)

1. 회사가 위치정보법 제15조 내지 제26조의 규정을 위반한 행위로 이용자에게 손해가 발생한 경우, 이용자는 회사에 대하여 손해배상을 청구할 수 있습니다. 이 경우 회사는 고의 또는 과실이 없음을 입증하지 아니하면 책임을 면할 수 없습니다.
2. 이용자가 본 약관의 규정을 위반하여 회사에 손해가 발생한 경우, 회사는 이용자에 대하여 손해배상을 청구할 수 있습니다.

## 제13조 (분쟁의 조정)

1. 회사와 이용자 간에 위치정보와 관련된 분쟁이 발생한 경우, 당사자는 분쟁의 해결을 위해 성실히 협의합니다.
2. 전항의 협의로 해결되지 아니한 경우, 회사 또는 이용자는 「위치정보의 보호 및 이용 등에 관한 법률」 제28조의 규정에 의한 방송통신위원회에 재정을 신청할 수 있습니다.

## 제14조 (회사의 연락처)

- **상호**: mimy
- **이메일**: support@mimy.app

**시행일: 2026년 2월 12일**`,
        summary: '위치정보를 이용한 맛집 추천 서비스 제공에 관한 약관입니다.',
        is_required: true,
        version: '1.0',
        country_code: 'ALL',
        effective_date: '2026-02-12',
    },
    {
        code: 'location_consent',
        title: '개인위치정보 수집 및 이용 동의',
        content: `# 개인위치정보 수집 및 이용 동의

mimy(이하 "회사")는 「위치정보의 보호 및 이용 등에 관한 법률」에 따라 아래와 같이 개인위치정보를 수집·이용하고자 합니다.

## 1. 수집하는 개인위치정보 항목

| 수집 항목 | 수집 방법 |
|-----------|-----------|
| 현재 위치 좌표 (위도, 경도) | 기기의 GPS, Wi-Fi, 기지국 정보를 통한 자동 수집 |
| 동네 정보 (행정구역명) | GPS 좌표 기반 역지오코딩을 통한 자동 변환 |

## 2. 수집 및 이용 목적

| 이용 목적 | 상세 내용 |
|-----------|-----------|
| 주변 맛집 탐색 | 현재 위치 기반 주변 맛집 지도 표시 및 거리순 정렬 |
| 개인화 맛집 추천 | 위치와 미식 성향을 결합한 맞춤형 추천 |
| 동네 등록 | GPS 위치 기반 거주 동네 자동 파악 및 등록 |
| 동네 리더보드 | 같은 동네 이용자들의 맛집 랭킹 비교 |
| 맛집 거리 표시 | 이용자와 맛집 간 거리 계산 및 표시 |

## 3. 보유 및 이용 기간

| 정보 | 보유 기간 |
|------|-----------|
| 현재 위치 좌표 | 서비스 이용 중 일시적 보유 (세션 종료 시 즉시 삭제) |
| 동네 정보 | 회원 탈퇴 시 또는 동네 해제 시까지 |
| 위치정보 이용·제공 확인자료 | 6개월 (위치정보법 제16조 제2항) |

## 4. 동의 거부 권리 및 불이익

- 위치정보 수집·이용에 대한 동의를 거부할 수 있습니다.
- 동의를 거부하시는 경우, 위치 기반 맛집 탐색 및 동네 등록 기능 등 위치정보를 활용한 서비스 이용이 제한될 수 있습니다.
- 동의 후에도 언제든지 앱 설정에서 위치정보 이용을 중지하거나 동의를 철회할 수 있습니다.

**시행일: 2026년 2월 12일**`,
        summary: '위치정보 수집 및 이용에 관한 동의입니다.',
        is_required: true,
        version: '1.0',
        country_code: 'ALL',
        effective_date: '2026-02-12',
    },
];

async function seedTerms() {
    console.log('Starting terms seeding...');

    for (const termData of termsData) {
        try {
            // Check if term with same code already exists
            const existing = await db
                .select()
                .from(terms)
                .where(eq(terms.code, termData.code))
                .limit(1);

            if (existing.length > 0) {
                console.log(`Term "${termData.code}" already exists, skipping...`);
                continue;
            }

            await db.insert(terms).values(termData);
            console.log(`Inserted term: ${termData.code}`);
        } catch (error) {
            console.error(`Error inserting term ${termData.code}:`, error);
        }
    }

    console.log('Terms seeding completed!');
    process.exit(0);
}

seedTerms();
